import{s as be,e as ee,n as q,h as de,b as Me,r as Xe}from"../chunks/utils.js";import{q as Fe,H as qe,r as Ge,g as S,u as Ke,d as p,v as ve,i as D,F as Ye,o as Ze,b as m,s as b,k as Ae,f,B as R,c as w,l as Be,h as o,w as r,C as Y,y as C,m as Ie,G as Le}from"../chunks/scheduler.js";import{S as we,i as Se,b as re,d as oe,m as ce,a as G,t as K,e as ie,g as et,c as tt}from"../chunks/index.js";import{g as Qe,u as st}from"../chunks/index2.js";import{p as nt}from"../chunks/stores.js";import{n as Je}from"../chunks/notifications.js";import{S as at}from"../chunks/SettingsCard.js";import{R as lt}from"../chunks/reload.js";const rt=async({fetch:a})=>({title:"Demo App"}),At=Object.freeze(Object.defineProperty({__proto__:null,load:rt},Symbol.toStringTag,{value:"Module"}));function ot(a){let e,t,n='<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M0 0h24v24H0z"/><path fill="currentColor" d="M10.708 2.372a2.382 2.382 0 0 0-.71.686l-4.892 7.26c-1.981 3.314-1.22 7.466 1.767 9.882c2.969 2.402 7.286 2.402 10.254 0c2.987-2.416 3.748-6.569 1.795-9.836l-4.919-7.306c-.722-1.075-2.192-1.376-3.295-.686z"/></g>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a[0]],c={};for(let s=0;s<l.length;s+=1)c=ee(c,l[s]);return{c(){e=Fe("svg"),t=new qe(!0),this.h()},l(s){e=Ge(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ke(i,!0),i.forEach(p),this.h()},h(){t.a=null,ve(e,c)},m(s,i){D(s,e,i),t.m(n,e)},p(s,[i]){ve(e,c=Qe(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:q,o:q,d(s){s&&p(e)}}}function ct(a,e,t){return a.$$set=n=>{t(0,e=ee(ee({},e),de(n)))},e=de(e),[e]}class it extends we{constructor(e){super(),Se(this,e,ct,ot,be,{})}}function ut(a){let e,t,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.502 19.423c2.602 2.105 6.395 2.105 8.996 0c2.602-2.105 3.262-5.708 1.566-8.546l-4.89-7.26c-.42-.625-1.287-.803-1.936-.397a1.376 1.376 0 0 0-.41.397l-4.893 7.26C4.24 13.715 4.9 17.318 7.502 19.423z"/>',l=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a[0]],c={};for(let s=0;s<l.length;s+=1)c=ee(c,l[s]);return{c(){e=Fe("svg"),t=new qe(!0),this.h()},l(s){e=Ge(s,"svg",{viewBox:!0,width:!0,height:!0});var i=S(e);t=Ke(i,!0),i.forEach(p),this.h()},h(){t.a=null,ve(e,c)},m(s,i){D(s,e,i),t.m(n,e)},p(s,[i]){ve(e,c=Qe(l,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i&1&&s[0]]))},i:q,o:q,d(s){s&&p(e)}}}function mt(a,e,t){return a.$$set=n=>{t(0,e=ee(ee({},e),de(n)))},e=de(e),[e]}class ft extends we{constructor(e){super(),Se(this,e,mt,ut,be,{})}}function pt(a){let e,t,n,l="Start Ejecting",c;return e=new it({props:{class:"mr-2 h-5 w-5"}}),{c(){re(e.$$.fragment),t=b(),n=m("span"),n.textContent=l},l(s){oe(e.$$.fragment,s),t=w(s),n=f(s,"SPAN",{"data-svelte-h":!0}),R(n)!=="svelte-13f77m5"&&(n.textContent=l)},m(s,i){ce(e,s,i),D(s,t,i),D(s,n,i),c=!0},i(s){c||(G(e.$$.fragment,s),c=!0)},o(s){K(e.$$.fragment,s),c=!1},d(s){s&&(p(t),p(n)),ie(e,s)}}}function ht(a){let e,t,n,l="Stop Ejecting",c;return e=new lt({props:{class:"animate-spin mr-2 h-5 w-5"}}),{c(){re(e.$$.fragment),t=b(),n=m("span"),n.textContent=l},l(s){oe(e.$$.fragment,s),t=w(s),n=f(s,"SPAN",{"data-svelte-h":!0}),R(n)!=="svelte-mh4zxv"&&(n.textContent=l)},m(s,i){ce(e,s,i),D(s,t,i),D(s,n,i),c=!0},i(s){c||(G(e.$$.fragment,s),c=!0)},o(s){K(e.$$.fragment,s),c=!1},d(s){s&&(p(t),p(n)),ie(e,s)}}}function _t(a){let e,t,n,l="Time (seconds)",c,s,i,$=a[1].cum_time+"",U,P,g,te,x,ue="Size",se,j,T,Q,ne,k,ae,I,ke="Force",u,h,A,me,xe,y,Ce,O,W,ze="Reverse Flow",ye,L,Ee,B,V,M,De="Continuous",Ne,z,$e,le,Pe,H,E,N,J,je,Te;const Oe=[ht,pt],F=[];function Ve(_,v){return _[0].ejecting?0:1}return E=Ve(a),N=F[E]=Oe[E](a),{c(){e=m("div"),t=m("div"),n=m("span"),n.textContent=l,c=b(),s=m("label"),i=m("span"),U=Ae($),P=b(),g=m("input"),te=b(),x=m("span"),x.textContent=ue,se=b(),j=m("label"),T=m("span"),Q=Ae(a[2]),ne=b(),k=m("input"),ae=b(),I=m("span"),I.textContent=ke,u=b(),h=m("label"),A=m("span"),me=Ae(a[3]),xe=b(),y=m("input"),Ce=b(),O=m("label"),W=m("span"),W.textContent=ze,ye=b(),L=m("input"),Ee=b(),B=m("div"),V=m("label"),M=m("span"),M.textContent=De,Ne=b(),z=m("input"),$e=b(),le=m("div"),Pe=b(),H=m("button"),N.c(),this.h()},l(_){e=f(_,"DIV",{class:!0});var v=S(e);t=f(v,"DIV",{class:!0});var d=S(t);n=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1il3ujg"&&(n.textContent=l),c=w(d),s=f(d,"LABEL",{class:!0});var fe=S(s);i=f(fe,"SPAN",{class:!0});var He=S(i);U=Be(He,$),He.forEach(p),P=w(fe),g=f(fe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),fe.forEach(p),te=w(d),x=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),R(x)!=="svelte-cxo4ec"&&(x.textContent=ue),se=w(d),j=f(d,"LABEL",{class:!0});var pe=S(j);T=f(pe,"SPAN",{class:!0});var Re=S(T);Q=Be(Re,a[2]),Re.forEach(p),ne=w(pe),k=f(pe,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),pe.forEach(p),ae=w(d),I=f(d,"SPAN",{class:!0,"data-svelte-h":!0}),R(I)!=="svelte-1d87jyc"&&(I.textContent=ke),u=w(d),h=f(d,"LABEL",{class:!0});var he=S(h);A=f(he,"SPAN",{class:!0});var Ue=S(A);me=Be(Ue,a[3]),Ue.forEach(p),xe=w(he),y=f(he,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),he.forEach(p),Ce=w(d),O=f(d,"LABEL",{class:!0});var _e=S(O);W=f(_e,"SPAN",{class:!0,"data-svelte-h":!0}),R(W)!=="svelte-k6fxtj"&&(W.textContent=ze),ye=w(_e),L=f(_e,"INPUT",{type:!0,class:!0}),_e.forEach(p),d.forEach(p),Ee=w(v),B=f(v,"DIV",{class:!0});var X=S(B);V=f(X,"LABEL",{class:!0});var ge=S(V);M=f(ge,"SPAN",{class:!0,"data-svelte-h":!0}),R(M)!=="svelte-12lbb5c"&&(M.textContent=De),Ne=w(ge),z=f(ge,"INPUT",{type:!0,class:!0}),ge.forEach(p),$e=w(X),le=f(X,"DIV",{class:!0}),S(le).forEach(p),Pe=w(X),H=f(X,"BUTTON",{class:!0});var We=S(H);N.l(We),We.forEach(p),X.forEach(p),v.forEach(p),this.h()},h(){o(n,"class","mr-4"),o(i,"class","mr-4"),o(g,"type","range"),o(g,"min","0"),o(g,"max","300"),o(g,"class","range"),o(s,"class","label cursor-pointer"),o(x,"class","mr-4"),o(T,"class","mr-4"),o(k,"type","range"),o(k,"min","1"),o(k,"max","500"),o(k,"step","1"),o(k,"class","range"),o(j,"class","label cursor-pointer"),o(I,"class","mr-4"),o(A,"class","mr-4"),o(y,"type","range"),o(y,"min","1"),o(y,"max","500"),o(y,"step","1"),o(y,"class","range"),o(h,"class","label cursor-pointer"),o(W,"class",""),o(L,"type","checkbox"),o(L,"class","toggle toggle-primary"),o(O,"class","label cursor-pointer"),o(t,"class","flex flex-col flex-wrap justify-between gap-x-2"),o(M,"class",""),o(z,"type","checkbox"),o(z,"class","toggle toggle-primary"),o(V,"class","label cursor-pointer"),o(le,"class","flex-grow"),o(H,"class","btn btn-primary inline-flex items-center"),o(B,"class","flex flex-row flex-wrap justify-between gap-x-2"),o(e,"class","w-full")},m(_,v){D(_,e,v),r(e,t),r(t,n),r(t,c),r(t,s),r(s,i),r(i,U),r(s,P),r(s,g),Y(g,a[1].cum_time),r(t,te),r(t,x),r(t,se),r(t,j),r(j,T),r(T,Q),r(j,ne),r(j,k),Y(k,a[2]),r(t,ae),r(t,I),r(t,u),r(t,h),r(h,A),r(A,me),r(h,xe),r(h,y),Y(y,a[3]),r(t,Ce),r(t,O),r(O,W),r(O,ye),r(O,L),L.checked=a[1].reverse,r(e,Ee),r(e,B),r(B,V),r(V,M),r(V,Ne),r(V,z),z.checked=a[1].continuous,r(B,$e),r(B,le),r(B,Pe),r(B,H),F[E].m(H,null),J=!0,je||(Te=[C(g,"change",a[6]),C(g,"input",a[6]),C(g,"change",a[7]),C(k,"change",a[8]),C(k,"input",a[8]),C(k,"change",a[9]),C(y,"change",a[10]),C(y,"input",a[10]),C(y,"change",a[11]),C(L,"change",a[12]),C(L,"change",a[13]),C(z,"change",a[14]),C(z,"change",a[15]),C(H,"click",a[4])],je=!0)},p(_,v){(!J||v&2)&&$!==($=_[1].cum_time+"")&&Ie(U,$),v&2&&Y(g,_[1].cum_time),(!J||v&4)&&Ie(Q,_[2]),v&4&&Y(k,_[2]),(!J||v&8)&&Ie(me,_[3]),v&8&&Y(y,_[3]),v&2&&(L.checked=_[1].reverse),v&2&&(z.checked=_[1].continuous);let d=E;E=Ve(_),E!==d&&(et(),K(F[d],1,1,()=>{F[d]=null}),tt(),N=F[E],N||(N=F[E]=Oe[E](_),N.c()),G(N,1),N.m(H,null))},i(_){J||(G(N),J=!0)},o(_){K(N),J=!1},d(_){_&&p(e),F[E].d(),je=!1,Xe(Te)}}}function gt(a){let e,t;return e=new ft({props:{slot:"icon",class:"lex-shrink-0 mr-2 h-6 w-6 self-end"}}),{c(){re(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,l){ce(e,n,l),t=!0},p:q,i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}function dt(a){let e,t="Pump State";return{c(){e=m("span"),e.textContent=t,this.h()},l(n){e=f(n,"SPAN",{slot:!0,"data-svelte-h":!0}),R(e)!=="svelte-14ujj00"&&(e.textContent=t),this.h()},h(){o(e,"slot","title")},m(n,l){D(n,e,l)},p:q,d(n){n&&p(e)}}}function vt(a){let e,t;return e=new at({props:{collapsible:!1,$$slots:{title:[dt],icon:[gt],default:[_t]},$$scope:{ctx:a}}}),{c(){re(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,l){ce(e,n,l),t=!0},p(n,[l]){const c={};l&2097167&&(c.$$scope={dirty:l,ctx:n}),e.$set(c)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ie(e,n)}}}const Z=800;function bt(a,e,t){let n,l;Me(a,nt,u=>t(18,n=u)),Me(a,st,u=>t(19,l=u));let c={ejecting:!1},s={cum_time:0,cum_size:800,cum_accel:800,reverse:!1,continuous:!1},i=s.cum_size/Z,$=s.cum_accel/Z;const U=n.data.features.security?"?access_token="+l.bearer_token:"",P=new WebSocket("ws://"+n.url.host+"/ws/pumpState"+U);P.onopen=u=>{P.send("Hello")},P.addEventListener("close",u=>{const h=u.code,A=u.reason;console.log("Pump State WebSocket closed with code:",h),console.log("Close reason:",A),Je.error("Websocket disconnected",5e3)}),P.onmessage=u=>{const h=JSON.parse(u.data);h.type!="id"&&t(0,c=h)};const g=new WebSocket("ws://"+n.url.host+"/ws/pumpSettings"+U);g.onopen=u=>{g.send("Hello")},g.addEventListener("close",u=>{const h=u.code,A=u.reason;console.log("Pump State WebSocket closed with code:",h),console.log("Close reason:",A),Je.error("Websocket disconnected",5e3)}),g.onmessage=u=>{const h=JSON.parse(u.data);h.type!="id"&&(t(1,s=h),t(2,i=s.cum_size/Z),t(3,$=s.cum_accel/Z),console.log("pumpSettings",s))},Ye(()=>{P.close(),g.close()}),Ze(()=>{});async function te(){P.send(JSON.stringify({ejecting:!c.ejecting}))}async function x(u,h){g.send(JSON.stringify({...s,[u]:h}))}function ue(){s.cum_time=Le(this.value),t(1,s)}const se=u=>{x("cum_time",Number(u.target.value))};function j(){i=Le(this.value),t(2,i)}const T=u=>{x("cum_size",Number(u.target.value)*Z)};function Q(){$=Le(this.value),t(3,$)}const ne=u=>{x("cum_accel",Number(u.target.value)*Z)};function k(){s.reverse=this.checked,t(1,s)}const ae=u=>{x("reverse",u.target.checked)};function I(){s.continuous=this.checked,t(1,s)}return[c,s,i,$,te,x,ue,se,j,T,Q,ne,k,ae,I,u=>{x("continuous",u.target.checked)}]}class wt extends we{constructor(e){super(),Se(this,e,bt,vt,be,{})}}function St(a){let e,t,n;return t=new wt({}),{c(){e=m("div"),re(t.$$.fragment),this.h()},l(l){e=f(l,"DIV",{class:!0});var c=S(e);oe(t.$$.fragment,c),c.forEach(p),this.h()},h(){o(e,"class","mx-0 my-1 flex flex-col space-y-4 sm:mx-8 sm:my-8")},m(l,c){D(l,e,c),ce(t,e,null),n=!0},p:q,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){K(t.$$.fragment,l),n=!1},d(l){l&&p(e),ie(t)}}}function kt(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class Bt extends we{constructor(e){super(),Se(this,e,kt,St,be,{data:0})}}export{Bt as component,At as universal};
