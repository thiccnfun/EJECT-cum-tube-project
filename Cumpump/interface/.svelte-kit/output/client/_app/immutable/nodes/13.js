import{s as Vt,e as Pt,n as L,h as Yt,b as Zt,r as _s}from"../chunks/utils.js";import{q as hs,H as ms,r as vs,g as _,u as bs,d as f,v as es,i as Ee,F as gs,o as ws,b as o,s as b,e as ts,f as i,c as g,h as s,B as O,J as xs,G as ht,n as is,w as a,k as _e,l as he,m as _t,x as St,K as ss,C as le,y as Ae,I as ks,D as Es,A as Is}from"../chunks/scheduler.js";import{S as Mt,i as Tt,b as ge,d as we,m as xe,a as F,t as Z,e as ke,g as ys,c as Ls,p as mt,o as As}from"../chunks/index.js";import{h as us,u as cs}from"../chunks/await_block.js";import{e as as}from"../chunks/each.js";import{g as Cs,u as Ds,c as vt,s as bt}from"../chunks/index2.js";import{I as Ps}from"../chunks/InputPassword.js";import{S as Ss}from"../chunks/SettingsCard.js";import{p as Vs}from"../chunks/stores.js";import{n as ls}from"../chunks/notifications.js";import{S as ds}from"../chunks/Spinner.js";import{A as fs}from"../chunks/access-point.js";import{H as Ms,D as Ts}from"../chunks/home.js";const Bs=async()=>({title:"Access Point"}),fa=Object.freeze(Object.defineProperty({__proto__:null,load:Bs},Symbol.toStringTag,{value:"Module"}));function Hs(r){let e,t,l='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M13 9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V9z"/><path d="M18 8V5a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h9m3-9h2"/></g>',u=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},r[0]],n={};for(let c=0;c<u.length;c+=1)n=Pt(n,u[c]);return{c(){e=hs("svg"),t=new ms(!0),this.h()},l(c){e=vs(c,"svg",{viewBox:!0,width:!0,height:!0});var d=_(e);t=bs(d,!0),d.forEach(f),this.h()},h(){t.a=null,es(e,n)},m(c,d){Ee(c,e,d),t.m(l,e)},p(c,[d]){es(e,n=Cs(u,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},d&1&&c[0]]))},i:L,o:L,d(c){c&&f(e)}}}function Ns(r,e,t){return r.$$set=l=>{t(0,e=Pt(Pt({},e),Yt(l)))},e=Yt(e),[e]}class $s extends Mt{constructor(e){super(),Tt(this,e,Ns,Hs,Vt,{})}}function rs(r,e,t){const l=r.slice();return l[24]=e[t],l}function qs(r){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function js(r){let e,t,l,u,n,c,d,m,S="Status",G,V,ie=r[9][r[1].status].description+"",h,me,J,$,T,Ie,W,ee,re="IP Address",K,ue,ce=r[1].ip_address+"",q,w,A,M,C,Re,de,I,He="MAC Address",Ne,R,te=r[1].mac_address+"",Ce,De,ne,j,z,Qe,fe,y,$e="AP Clients",qe,Q,se=r[1].station_num+"",Pe,ae,X;return u=new fs({props:{class:"h-auto w-full scale-75 "+r[9][r[1].status].text_color}}),T=new Ms({props:{class:"text-primary-content h-auto w-full scale-75"}}),C=new Ts({props:{class:"text-primary-content h-auto w-full scale-75"}}),z=new $s({props:{class:"text-primary-content h-auto w-full scale-75"}}),{c(){e=o("div"),t=o("div"),l=o("div"),ge(u.$$.fragment),c=b(),d=o("div"),m=o("div"),m.textContent=S,G=b(),V=o("div"),h=_e(ie),me=b(),J=o("div"),$=o("div"),ge(T.$$.fragment),Ie=b(),W=o("div"),ee=o("div"),ee.textContent=re,K=b(),ue=o("div"),q=_e(ce),w=b(),A=o("div"),M=o("div"),ge(C.$$.fragment),Re=b(),de=o("div"),I=o("div"),I.textContent=He,Ne=b(),R=o("div"),Ce=_e(te),De=b(),ne=o("div"),j=o("div"),ge(z.$$.fragment),Qe=b(),fe=o("div"),y=o("div"),y.textContent=$e,qe=b(),Q=o("div"),Pe=_e(se),this.h()},l(v){e=i(v,"DIV",{class:!0});var E=_(e);t=i(E,"DIV",{class:!0});var ve=_(t);l=i(ve,"DIV",{class:!0});var Xe=_(l);we(u.$$.fragment,Xe),Xe.forEach(f),c=g(ve),d=i(ve,"DIV",{});var D=_(d);m=i(D,"DIV",{class:!0,"data-svelte-h":!0}),O(m)!=="svelte-yizsky"&&(m.textContent=S),G=g(D),V=i(D,"DIV",{class:!0});var je=_(V);h=he(je,ie),je.forEach(f),D.forEach(f),ve.forEach(f),me=g(E),J=i(E,"DIV",{class:!0});var Se=_(J);$=i(Se,"DIV",{class:!0});var be=_($);we(T.$$.fragment,be),be.forEach(f),Ie=g(Se),W=i(Se,"DIV",{});var oe=_(W);ee=i(oe,"DIV",{class:!0,"data-svelte-h":!0}),O(ee)!=="svelte-cofw3n"&&(ee.textContent=re),K=g(oe),ue=i(oe,"DIV",{class:!0});var Ye=_(ue);q=he(Ye,ce),Ye.forEach(f),oe.forEach(f),Se.forEach(f),w=g(E),A=i(E,"DIV",{class:!0});var ye=_(A);M=i(ye,"DIV",{class:!0});var Ze=_(M);we(C.$$.fragment,Ze),Ze.forEach(f),Re=g(ye),de=i(ye,"DIV",{});var Y=_(de);I=i(Y,"DIV",{class:!0,"data-svelte-h":!0}),O(I)!=="svelte-okbsad"&&(I.textContent=He),Ne=g(Y),R=i(Y,"DIV",{class:!0});var pe=_(R);Ce=he(pe,te),pe.forEach(f),Y.forEach(f),ye.forEach(f),De=g(E),ne=i(E,"DIV",{class:!0});var ze=_(ne);j=i(ze,"DIV",{class:!0});var et=_(j);we(z.$$.fragment,et),et.forEach(f),Qe=g(ze),fe=i(ze,"DIV",{});var P=_(fe);y=i(P,"DIV",{class:!0,"data-svelte-h":!0}),O(y)!=="svelte-12qi1tj"&&(y.textContent=$e),qe=g(P),Q=i(P,"DIV",{class:!0});var Oe=_(Q);Pe=he(Oe,se),Oe.forEach(f),P.forEach(f),ze.forEach(f),E.forEach(f),this.h()},h(){s(l,"class",n="mask mask-hexagon h-auto w-10 "+r[9][r[1].status].bg_color),s(m,"class","font-bold"),s(V,"class","text-sm opacity-75"),s(t,"class","rounded-box bg-base-100 flex items-center space-x-3 px-4 py-2"),s($,"class","mask mask-hexagon bg-primary h-auto w-10"),s(ee,"class","font-bold"),s(ue,"class","text-sm opacity-75"),s(J,"class","rounded-box bg-base-100 flex items-center space-x-3 px-4 py-2"),s(M,"class","mask mask-hexagon bg-primary h-auto w-10"),s(I,"class","font-bold"),s(R,"class","text-sm opacity-75"),s(A,"class","rounded-box bg-base-100 flex items-center space-x-3 px-4 py-2"),s(j,"class","mask mask-hexagon bg-primary h-auto w-10"),s(y,"class","font-bold"),s(Q,"class","text-sm opacity-75"),s(ne,"class","rounded-box bg-base-100 flex items-center space-x-3 px-4 py-2"),s(e,"class","flex w-full flex-col space-y-1")},m(v,E){Ee(v,e,E),a(e,t),a(t,l),xe(u,l,null),a(t,c),a(t,d),a(d,m),a(d,G),a(d,V),a(V,h),a(e,me),a(e,J),a(J,$),xe(T,$,null),a(J,Ie),a(J,W),a(W,ee),a(W,K),a(W,ue),a(ue,q),a(e,w),a(e,A),a(A,M),xe(C,M,null),a(A,Re),a(A,de),a(de,I),a(de,Ne),a(de,R),a(R,Ce),a(e,De),a(e,ne),a(ne,j),xe(z,j,null),a(ne,Qe),a(ne,fe),a(fe,y),a(fe,qe),a(fe,Q),a(Q,Pe),X=!0},p(v,E){const ve={};E&2&&(ve.class="h-auto w-full scale-75 "+v[9][v[1].status].text_color),u.$set(ve),(!X||E&2&&n!==(n="mask mask-hexagon h-auto w-10 "+v[9][v[1].status].bg_color))&&s(l,"class",n),(!X||E&2)&&ie!==(ie=v[9][v[1].status].description+"")&&_t(h,ie),(!X||E&2)&&ce!==(ce=v[1].ip_address+"")&&_t(q,ce),(!X||E&2)&&te!==(te=v[1].mac_address+"")&&_t(Ce,te),(!X||E&2)&&se!==(se=v[1].station_num+"")&&_t(Pe,se)},i(v){X||(F(u.$$.fragment,v),F(T.$$.fragment,v),F(C.$$.fragment,v),F(z.$$.fragment,v),v&&St(()=>{X&&(ae||(ae=mt(e,bt,{duration:300,easing:vt},!0)),ae.run(1))}),X=!0)},o(v){Z(u.$$.fragment,v),Z(T.$$.fragment,v),Z(C.$$.fragment,v),Z(z.$$.fragment,v),v&&(ae||(ae=mt(e,bt,{duration:300,easing:vt},!1)),ae.run(0)),X=!1},d(v){v&&f(e),ke(u),ke(T),ke(C),ke(z),v&&ae&&ae.end()}}}function zs(r){let e,t;return e=new ds({}),{c(){ge(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,u){xe(e,l,u),t=!0},p:L,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function ns(r){let e,t,l="Change AP Settings",u,n,c={ctx:r,current:null,token:null,hasCatch:!1,pending:Fs,then:Us,catch:Os,value:23,blocks:[,,,]};return us(r[7](),c),{c(){e=o("div"),t=o("div"),t.textContent=l,u=b(),c.block.c(),this.h()},l(d){e=i(d,"DIV",{class:!0});var m=_(e);t=i(m,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1twspkm"&&(t.textContent=l),u=g(m),c.block.l(m),m.forEach(f),this.h()},h(){s(t,"class","min-h-16 flex w-full items-center justify-between space-x-3 p-0 text-xl font-medium"),s(e,"class","bg-base-200 shadow-lg relative grid w-full max-w-2xl self-center overflow-hidden")},m(d,m){Ee(d,e,m),a(e,t),a(e,u),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null,n=!0},p(d,m){r=d,cs(c,r,m)},i(d){n||(F(c.block),n=!0)},o(d){for(let m=0;m<3;m+=1){const S=c.blocks[m];Z(S)}n=!1},d(d){d&&f(e),c.block.d(),c.token=null,c=null}}}function Os(r){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function Us(r){let e,t,l,u,n='<span class="label-text">Provide Access Point ...</span>',c,d,m,S,G,V='<span class="label-text text-md">SSID</span>',ie,h,me,J,$,T,Ie,W,ee,re,K,ue='<span class="label-text text-md">Password</span>',ce,q,w,A,M,C,Re='<span class="label-text text-md">Preferred Channel</span>',de,I,He,Ne,R,te,Ce,De,ne,j,z,Qe='<span class="label-text text-md">Max Clients</span>',fe,y,$e,qe,Q,se,Pe,ae,X,v,E,ve='<span class="label-text text-md">Local IP</span>',Xe,D,je,Se,be,oe,Ye,ye,Ze,Y,pe,ze='<span class="label-text text-md">Gateway IP</span>',et,P,Oe,gt,Ue,Fe,wt,ut,xt,Le,Ve,Bt='<span class="label-text text-md">Subnet Mask</span>',kt,U,ct,Et,Ge,Je,It,dt,yt,Me,Te,Lt,We,Ht="Hide SSID",At,Ke,Nt='<button class="btn btn-primary" type="submit">Apply Settings</button>',Be,B,Ct,$t,tt=as(r[8]),H=[];for(let p=0;p<tt.length;p+=1)H[p]=os(rs(r,tt,p));function ps(p){r[13](p)}let qt={id:"pwd"};return r[0].password!==void 0&&(qt.value=r[0].password),q=new Ps({props:qt}),is.push(()=>As(q,"value",ps)),{c(){e=o("div"),t=o("form"),l=o("div"),u=o("label"),u.innerHTML=n,c=b(),d=o("select");for(let p=0;p<H.length;p+=1)H[p].c();m=b(),S=o("div"),G=o("label"),G.innerHTML=V,ie=b(),h=o("input"),J=b(),$=o("label"),T=o("span"),Ie=_e("SSID must be between 2 and 32 characters long"),ee=b(),re=o("div"),K=o("label"),K.innerHTML=ue,ce=b(),ge(q.$$.fragment),A=b(),M=o("div"),C=o("label"),C.innerHTML=Re,de=b(),I=o("input"),Ne=b(),R=o("label"),te=o("span"),Ce=_e("Must be channel 1 to 13"),ne=b(),j=o("div"),z=o("label"),z.innerHTML=Qe,fe=b(),y=o("input"),qe=b(),Q=o("label"),se=o("span"),Pe=_e("Maximum 8 clients allowed"),X=b(),v=o("div"),E=o("label"),E.innerHTML=ve,Xe=b(),D=o("input"),Se=b(),be=o("label"),oe=o("span"),Ye=_e("Must be a valid IPv4 address"),Ze=b(),Y=o("div"),pe=o("label"),pe.innerHTML=ze,et=b(),P=o("input"),gt=b(),Ue=o("label"),Fe=o("span"),wt=_e("Must be a valid IPv4 address"),xt=b(),Le=o("div"),Ve=o("label"),Ve.innerHTML=Bt,kt=b(),U=o("input"),Et=b(),Ge=o("label"),Je=o("span"),It=_e("Must be a valid IPv4 address"),yt=b(),Me=o("label"),Te=o("input"),Lt=b(),We=o("span"),We.textContent=Ht,At=b(),Ke=o("div"),Ke.innerHTML=Nt,this.h()},l(p){e=i(p,"DIV",{class:!0});var x=_(e);t=i(x,"FORM",{class:!0});var k=_(t);l=i(k,"DIV",{});var N=_(l);u=i(N,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(u)!=="svelte-1u51onr"&&(u.innerHTML=n),c=g(N),d=i(N,"SELECT",{class:!0,id:!0});var it=_(d);for(let Dt=0;Dt<H.length;Dt+=1)H[Dt].l(it);it.forEach(f),N.forEach(f),m=g(k),S=i(k,"DIV",{});var st=_(S);G=i(st,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(G)!=="svelte-sm2u6j"&&(G.innerHTML=V),ie=g(st),h=i(st,"INPUT",{type:!0,class:!0,id:!0,min:!0,max:!0}),J=g(st),$=i(st,"LABEL",{class:!0,for:!0});var jt=_($);T=i(jt,"SPAN",{class:!0});var zt=_(T);Ie=he(zt,"SSID must be between 2 and 32 characters long"),zt.forEach(f),jt.forEach(f),st.forEach(f),ee=g(k),re=i(k,"DIV",{});var ft=_(re);K=i(ft,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(K)!=="svelte-1ghr7n9"&&(K.innerHTML=ue),ce=g(ft),we(q.$$.fragment,ft),ft.forEach(f),A=g(k),M=i(k,"DIV",{});var at=_(M);C=i(at,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(C)!=="svelte-grqlb0"&&(C.innerHTML=Re),de=g(at),I=i(at,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),Ne=g(at),R=i(at,"LABEL",{class:!0,for:!0});var Ot=_(R);te=i(Ot,"SPAN",{class:!0});var Ut=_(te);Ce=he(Ut,"Must be channel 1 to 13"),Ut.forEach(f),Ot.forEach(f),at.forEach(f),ne=g(k),j=i(k,"DIV",{});var lt=_(j);z=i(lt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(z)!=="svelte-f6onit"&&(z.innerHTML=Qe),fe=g(lt),y=i(lt,"INPUT",{type:!0,min:!0,max:!0,class:!0,id:!0}),qe=g(lt),Q=i(lt,"LABEL",{class:!0,for:!0});var Ft=_(Q);se=i(Ft,"SPAN",{class:!0});var Gt=_(se);Pe=he(Gt,"Maximum 8 clients allowed"),Gt.forEach(f),Ft.forEach(f),lt.forEach(f),X=g(k),v=i(k,"DIV",{});var rt=_(v);E=i(rt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(E)!=="svelte-3hex3x"&&(E.innerHTML=ve),Xe=g(rt),D=i(rt,"INPUT",{type:!0,class:!0,minlength:!0,maxlength:!0,size:!0,id:!0}),Se=g(rt),be=i(rt,"LABEL",{class:!0,for:!0});var Jt=_(be);oe=i(Jt,"SPAN",{class:!0});var Wt=_(oe);Ye=he(Wt,"Must be a valid IPv4 address"),Wt.forEach(f),Jt.forEach(f),rt.forEach(f),Ze=g(k),Y=i(k,"DIV",{});var nt=_(Y);pe=i(nt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(pe)!=="svelte-1sba56o"&&(pe.innerHTML=ze),et=g(nt),P=i(nt,"INPUT",{type:!0,class:!0,minlength:!0,maxlength:!0,size:!0,id:!0}),gt=g(nt),Ue=i(nt,"LABEL",{class:!0,for:!0});var Kt=_(Ue);Fe=i(Kt,"SPAN",{class:!0});var Rt=_(Fe);wt=he(Rt,"Must be a valid IPv4 address"),Rt.forEach(f),Kt.forEach(f),nt.forEach(f),xt=g(k),Le=i(k,"DIV",{});var ot=_(Le);Ve=i(ot,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(Ve)!=="svelte-17ve7bv"&&(Ve.innerHTML=Bt),kt=g(ot),U=i(ot,"INPUT",{type:!0,class:!0,minlength:!0,maxlength:!0,size:!0,id:!0}),Et=g(ot),Ge=i(ot,"LABEL",{class:!0,for:!0});var Qt=_(Ge);Je=i(Qt,"SPAN",{class:!0});var Xt=_(Je);It=he(Xt,"Must be a valid IPv4 address"),Xt.forEach(f),Qt.forEach(f),ot.forEach(f),yt=g(k),Me=i(k,"LABEL",{class:!0});var pt=_(Me);Te=i(pt,"INPUT",{type:!0,class:!0}),Lt=g(pt),We=i(pt,"SPAN",{class:!0,"data-svelte-h":!0}),O(We)!=="svelte-eoeqkq"&&(We.textContent=Ht),pt.forEach(f),At=g(k),Ke=i(k,"DIV",{class:!0,"data-svelte-h":!0}),O(Ke)!=="svelte-21ocql"&&(Ke.innerHTML=Nt),k.forEach(f),x.forEach(f),this.h()},h(){s(u,"class","label"),s(u,"for","apmode"),s(d,"class","select select-bordered w-full"),s(d,"id","apmode"),r[0].provision_mode===void 0&&St(()=>r[11].call(d)),s(G,"class","label"),s(G,"for","ssid"),s(h,"type","text"),s(h,"class",me="input input-bordered invalid:border-error w-full invalid:border-2 "+(r[3].ssid?"border-error border-2":"")),s(h,"id","ssid"),s(h,"min","2"),s(h,"max","32"),h.required=!0,s(T,"class",W="label-text-alt text-error "+(r[3].ssid?"":"hidden")),s($,"class","label"),s($,"for","ssid"),s(K,"class","label"),s(K,"for","pwd"),s(C,"class","label"),s(C,"for","channel"),s(I,"type","number"),s(I,"min","1"),s(I,"max","13"),s(I,"class",He="input input-bordered invalid:border-error w-full invalid:border-2 "+(r[3].channel?"border-error border-2":"")),s(I,"id","channel"),I.required=!0,s(te,"class",De="label-text-alt text-error "+(r[3].channel?"":"hidden")),s(R,"class","label"),s(R,"for","channel"),s(z,"class","label"),s(z,"for","clients"),s(y,"type","number"),s(y,"min","1"),s(y,"max","8"),s(y,"class",$e="input input-bordered invalid:border-error w-full invalid:border-2 "+(r[3].max_clients?"border-error border-2":"")),s(y,"id","clients"),y.required=!0,s(se,"class",ae="label-text-alt text-error "+(r[3].max_clients?"":"hidden")),s(Q,"class","label"),s(Q,"for","clients"),s(E,"class","label"),s(E,"for","localIP"),s(D,"type","text"),s(D,"class",je="input input-bordered w-full "+(r[3].local_ip?"border-error border-2":"")),s(D,"minlength","7"),s(D,"maxlength","15"),s(D,"size","15"),s(D,"id","localIP"),D.required=!0,s(oe,"class",ye="label-text-alt text-error "+(r[3].local_ip?"":"hidden")),s(be,"class","label"),s(be,"for","localIP"),s(pe,"class","label"),s(pe,"for","gateway"),s(P,"type","text"),s(P,"class",Oe="input input-bordered w-full "+(r[3].gateway_ip?"border-error border-2":"")),s(P,"minlength","7"),s(P,"maxlength","15"),s(P,"size","15"),s(P,"id","gateway"),P.required=!0,s(Fe,"class",ut="label-text-alt text-error "+(r[3].gateway_ip?"":"hidden")),s(Ue,"class","label"),s(Ue,"for","gateway"),s(Ve,"class","label"),s(Ve,"for","subnet"),s(U,"type","text"),s(U,"class",ct="input input-bordered w-full "+(r[3].subnet_mask?"border-error border-2":"")),s(U,"minlength","7"),s(U,"maxlength","15"),s(U,"size","15"),s(U,"id","subnet"),U.required=!0,s(Je,"class",dt="label-text-alt text-error "+(r[3].subnet_mask?"":"hidden")),s(Ge,"class","label"),s(Ge,"for","subnet"),s(Te,"type","checkbox"),s(Te,"class","checkbox checkbox-primary"),s(We,"class",""),s(Me,"class","label my-auto cursor-pointer justify-start gap-4"),s(Ke,"class","place-self-end"),s(t,"class","grid w-full grid-cols-1 content-center gap-x-4 p-0s sm:grid-cols-2"),t.noValidate=!0,s(e,"class","flex flex-col gap-2 p-0")},m(p,x){Ee(p,e,x),a(e,t),a(t,l),a(l,u),a(l,c),a(l,d);for(let k=0;k<H.length;k+=1)H[k]&&H[k].m(d,null);ss(d,r[0].provision_mode,!0),a(t,m),a(t,S),a(S,G),a(S,ie),a(S,h),le(h,r[0].ssid),a(S,J),a(S,$),a($,T),a(T,Ie),a(t,ee),a(t,re),a(re,K),a(re,ce),xe(q,re,null),a(t,A),a(t,M),a(M,C),a(M,de),a(M,I),le(I,r[0].channel),a(M,Ne),a(M,R),a(R,te),a(te,Ce),a(t,ne),a(t,j),a(j,z),a(j,fe),a(j,y),le(y,r[0].max_clients),a(j,qe),a(j,Q),a(Q,se),a(se,Pe),a(t,X),a(t,v),a(v,E),a(v,Xe),a(v,D),le(D,r[0].local_ip),a(v,Se),a(v,be),a(be,oe),a(oe,Ye),a(t,Ze),a(t,Y),a(Y,pe),a(Y,et),a(Y,P),le(P,r[0].gateway_ip),a(Y,gt),a(Y,Ue),a(Ue,Fe),a(Fe,wt),a(t,xt),a(t,Le),a(Le,Ve),a(Le,kt),a(Le,U),le(U,r[0].subnet_mask),a(Le,Et),a(Le,Ge),a(Ge,Je),a(Je,It),a(t,yt),a(t,Me),a(Me,Te),Te.checked=r[0].ssid_hidden,a(Me,Lt),a(Me,We),a(t,At),a(t,Ke),r[20](t),B=!0,Ct||($t=[Ae(d,"change",r[11]),Ae(h,"input",r[12]),Ae(I,"input",r[14]),Ae(y,"input",r[15]),Ae(D,"input",r[16]),Ae(P,"input",r[17]),Ae(U,"input",r[18]),Ae(Te,"change",r[19]),Ae(t,"submit",ks(r[10]))],Ct=!0)},p(p,x){if(x&256){tt=as(p[8]);let N;for(N=0;N<tt.length;N+=1){const it=rs(p,tt,N);H[N]?H[N].p(it,x):(H[N]=os(it),H[N].c(),H[N].m(d,null))}for(;N<H.length;N+=1)H[N].d(1);H.length=tt.length}x&257&&ss(d,p[0].provision_mode),(!B||x&8&&me!==(me="input input-bordered invalid:border-error w-full invalid:border-2 "+(p[3].ssid?"border-error border-2":"")))&&s(h,"class",me),x&257&&h.value!==p[0].ssid&&le(h,p[0].ssid),(!B||x&8&&W!==(W="label-text-alt text-error "+(p[3].ssid?"":"hidden")))&&s(T,"class",W);const k={};!w&&x&1&&(w=!0,k.value=p[0].password,Es(()=>w=!1)),q.$set(k),(!B||x&8&&He!==(He="input input-bordered invalid:border-error w-full invalid:border-2 "+(p[3].channel?"border-error border-2":"")))&&s(I,"class",He),x&257&&ht(I.value)!==p[0].channel&&le(I,p[0].channel),(!B||x&8&&De!==(De="label-text-alt text-error "+(p[3].channel?"":"hidden")))&&s(te,"class",De),(!B||x&8&&$e!==($e="input input-bordered invalid:border-error w-full invalid:border-2 "+(p[3].max_clients?"border-error border-2":"")))&&s(y,"class",$e),x&257&&ht(y.value)!==p[0].max_clients&&le(y,p[0].max_clients),(!B||x&8&&ae!==(ae="label-text-alt text-error "+(p[3].max_clients?"":"hidden")))&&s(se,"class",ae),(!B||x&8&&je!==(je="input input-bordered w-full "+(p[3].local_ip?"border-error border-2":"")))&&s(D,"class",je),x&257&&D.value!==p[0].local_ip&&le(D,p[0].local_ip),(!B||x&8&&ye!==(ye="label-text-alt text-error "+(p[3].local_ip?"":"hidden")))&&s(oe,"class",ye),(!B||x&8&&Oe!==(Oe="input input-bordered w-full "+(p[3].gateway_ip?"border-error border-2":"")))&&s(P,"class",Oe),x&257&&P.value!==p[0].gateway_ip&&le(P,p[0].gateway_ip),(!B||x&8&&ut!==(ut="label-text-alt text-error "+(p[3].gateway_ip?"":"hidden")))&&s(Fe,"class",ut),(!B||x&8&&ct!==(ct="input input-bordered w-full "+(p[3].subnet_mask?"border-error border-2":"")))&&s(U,"class",ct),x&257&&U.value!==p[0].subnet_mask&&le(U,p[0].subnet_mask),(!B||x&8&&dt!==(dt="label-text-alt text-error "+(p[3].subnet_mask?"":"hidden")))&&s(Je,"class",dt),x&257&&(Te.checked=p[0].ssid_hidden)},i(p){B||(F(q.$$.fragment,p),p&&St(()=>{B&&(Be||(Be=mt(e,bt,{duration:300,easing:vt},!0)),Be.run(1))}),B=!0)},o(p){Z(q.$$.fragment,p),p&&(Be||(Be=mt(e,bt,{duration:300,easing:vt},!1)),Be.run(0)),B=!1},d(p){p&&f(e),Is(H,p),ke(q),r[20](null),p&&Be&&Be.end(),Ct=!1,_s($t)}}}function os(r){let e,t=r[24].text+"",l,u;return{c(){e=o("option"),l=_e(t),u=b(),this.h()},l(n){e=i(n,"OPTION",{});var c=_(e);l=he(c,t),u=g(c),c.forEach(f),this.h()},h(){e.__value=r[24].id,le(e,e.__value)},m(n,c){Ee(n,e,c),a(e,l),a(e,u)},p:L,d(n){n&&f(e)}}}function Fs(r){let e,t;return e=new ds({}),{c(){ge(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,u){xe(e,l,u),t=!0},p:L,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function Gs(r){let e,t,l,u,n={ctx:r,current:null,token:null,hasCatch:!1,pending:zs,then:js,catch:qs,value:23,blocks:[,,,]};us(r[6](),n);let c=(!r[5].data.features.security||r[4].admin)&&ns(r);return{c(){e=o("div"),n.block.c(),t=b(),c&&c.c(),l=ts(),this.h()},l(d){e=i(d,"DIV",{class:!0});var m=_(e);n.block.l(m),m.forEach(f),t=g(d),c&&c.l(d),l=ts(),this.h()},h(){s(e,"class","w-full overflow-x-auto")},m(d,m){Ee(d,e,m),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,Ee(d,t,m),c&&c.m(d,m),Ee(d,l,m),u=!0},p(d,m){r=d,cs(n,r,m),!r[5].data.features.security||r[4].admin?c?(c.p(r,m),m&48&&F(c,1)):(c=ns(r),c.c(),F(c,1),c.m(l.parentNode,l)):c&&(ys(),Z(c,1,1,()=>{c=null}),Ls())},i(d){u||(F(n.block),F(c),u=!0)},o(d){for(let m=0;m<3;m+=1){const S=n.blocks[m];Z(S)}Z(c),u=!1},d(d){d&&(f(e),f(t),f(l)),n.block.d(),n.token=null,n=null,c&&c.d(d)}}}function Js(r){let e,t;return e=new fs({props:{slot:"icon",class:"lex-shrink-0 mr-2 h-6 w-6 self-end"}}),{c(){ge(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,u){xe(e,l,u),t=!0},p:L,i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function Ws(r){let e,t="Access Point";return{c(){e=o("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{slot:!0,"data-svelte-h":!0}),O(e)!=="svelte-15lmhdt"&&(e.textContent=t),this.h()},h(){s(e,"slot","title")},m(l,u){Ee(l,e,u)},p:L,d(l){l&&f(e)}}}function Ks(r){let e,t;return e=new Ss({props:{collapsible:!1,$$slots:{title:[Ws],icon:[Js],default:[Gs]},$$scope:{ctx:r}}}),{c(){ge(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,u){xe(e,l,u),t=!0},p(l,[u]){const n={};u&134217791&&(n.$$scope={dirty:u,ctx:l}),e.$set(n)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){ke(e,l)}}}function Rs(r,e,t){let l,u;Zt(r,Ds,w=>t(4,l=w)),Zt(r,Vs,w=>t(5,u=w));let n,c,d;async function m(){try{const w=await fetch("/rest/apStatus",{method:"GET",headers:{Authorization:u.data.features.security?"Bearer "+l.bearer_token:"Basic","Content-Type":"application/json"}});t(1,c=await w.json())}catch(w){console.error("Error:",w)}return c}async function S(){try{const w=await fetch("/rest/apSettings",{method:"GET",headers:{Authorization:u.data.features.security?"Bearer "+l.bearer_token:"Basic","Content-Type":"application/json"}});t(0,n=await w.json())}catch(w){console.error("Error:",w)}return n}const G=setInterval(async()=>{m()},5e3);gs(()=>clearInterval(G)),ws(()=>{(!u.data.features.security||l.admin)&&S()});let V=[{id:0,text:"Always"},{id:1,text:"When WiFi Disconnected"},{id:2,text:"Never"}],ie=[{bg_color:"bg-success",text_color:"text-success-content",description:"Active"},{bg_color:"bg-error",text_color:"text-error-content",description:"Inactive"},{bg_color:"bg-warning",text_color:"text-warning-content",description:"Lingering"}],h={ssid:!1,channel:!1,max_clients:!1,local_ip:!1,gateway_ip:!1,subnet_mask:!1};async function me(w){try{const A=await fetch("/rest/apSettings",{method:"POST",headers:{Authorization:u.data.features.security?"Bearer "+l.bearer_token:"Basic","Content-Type":"application/json"},body:JSON.stringify(w)});A.status==200?(ls.success("Access Point settings updated.",3e3),t(0,n=await A.json())):ls.error("User not authorized.",3e3)}catch(A){console.error("Error:",A)}}function J(){let w=!0;n.ssid.length<3||n.ssid.length>32?(w=!1,t(3,h.ssid=!0,h)):t(3,h.ssid=!1,h);let A=Number(n.channel);1>A||A>13?(w=!1,t(3,h.channel=!0,h)):t(3,h.channel=!1,h);let M=Number(n.max_clients);1>M||M>8?(w=!1,t(3,h.max_clients=!0,h)):t(3,h.max_clients=!1,h);const C=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;C.test(n.gateway_ip)?t(3,h.gateway_ip=!1,h):(w=!1,t(3,h.gateway_ip=!0,h)),C.test(n.subnet_mask)?t(3,h.subnet_mask=!1,h):(w=!1,t(3,h.subnet_mask=!0,h)),C.test(n.local_ip)?t(3,h.local_ip=!1,h):(w=!1,t(3,h.local_ip=!0,h)),w&&me(n)}function $(){n.provision_mode=xs(this),t(0,n),t(8,V)}function T(){n.ssid=this.value,t(0,n),t(8,V)}function Ie(w){r.$$.not_equal(n.password,w)&&(n.password=w,t(0,n))}function W(){n.channel=ht(this.value),t(0,n),t(8,V)}function ee(){n.max_clients=ht(this.value),t(0,n),t(8,V)}function re(){n.local_ip=this.value,t(0,n),t(8,V)}function K(){n.gateway_ip=this.value,t(0,n),t(8,V)}function ue(){n.subnet_mask=this.value,t(0,n),t(8,V)}function ce(){n.ssid_hidden=this.checked,t(0,n),t(8,V)}function q(w){is[w?"unshift":"push"](()=>{d=w,t(2,d)})}return[n,c,d,h,l,u,m,S,V,ie,J,$,T,Ie,W,ee,re,K,ue,ce,q]}class Qs extends Mt{constructor(e){super(),Tt(this,e,Rs,Ks,Vt,{})}}function Xs(r){let e,t,l;return t=new Qs({}),{c(){e=o("div"),ge(t.$$.fragment),this.h()},l(u){e=i(u,"DIV",{class:!0});var n=_(e);we(t.$$.fragment,n),n.forEach(f),this.h()},h(){s(e,"class","mx-0 my-1 flex flex-col space-y-4 sm:mx-8 sm:my-8")},m(u,n){Ee(u,e,n),xe(t,e,null),l=!0},p:L,i(u){l||(F(t.$$.fragment,u),l=!0)},o(u){Z(t.$$.fragment,u),l=!1},d(u){u&&f(e),ke(t)}}}function Ys(r,e,t){let{data:l}=e;return r.$$set=u=>{"data"in u&&t(0,l=u.data)},[l]}class pa extends Mt{constructor(e){super(),Tt(this,e,Ys,Xs,Vt,{data:0})}}export{pa as component,fa as universal};
