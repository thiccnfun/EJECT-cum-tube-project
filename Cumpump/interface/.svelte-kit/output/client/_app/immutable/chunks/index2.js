import{w as k}from"./index3.js";import{g as x}from"./navigation.js";import{i as C,q as w}from"./utils.js";function N(t,e){const o={},n={},a={$$scope:1};let r=t.length;for(;r--;){const s=t[r],c=e[r];if(c){for(const i in s)i in c||(n[i]=1);for(const i in c)a[i]||(o[i]=c[i],a[i]=1);t[r]=c}else for(const i in s)a[i]=1}for(const s in n)s in o||(o[s]=void 0);return o}function j(t){return typeof t=="object"&&t!==null?t:{}}function _(t){this.message=t}_.prototype=new Error,_.prototype.name="InvalidCharacterError";var b=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new _("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,r=0,s="";n=e.charAt(r++);~n&&(o=a%4?64*o+n:n,a++%4)?s+=String.fromCharCode(255&o>>(-2*a&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function I(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(o){return decodeURIComponent(b(o).replace(/(.)/g,function(n,a){var r=a.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(e)}catch{return b(e)}}function f(t){this.message=t}function F(t,e){if(typeof t!="string")throw new f("Invalid token specified");var o=(e=e||{}).header===!0?0:1;try{return JSON.parse(I(t.split(".")[o]))}catch(n){throw new f("Invalid token specified: "+n.message)}}f.prototype=new Error,f.prototype.name="InvalidTokenError";let v={username:"",admin:!1,bearer_token:""};function O(){const{subscribe:t,set:e}=k(v),o=localStorage.getItem("user");return o&&e(JSON.parse(o)),{subscribe:t,init:n=>{const a=F(n),r={bearer_token:n,username:a.username,admin:a.admin};e(r),localStorage.setItem("user",JSON.stringify(r))},invalidate:()=>{console.log("Log out user"),e(v),localStorage.removeItem("user"),x("/")}}}const A=O();function S(t){const e=t-1;return e*e*e+1}function T(t,{delay:e=0,duration:o=400,easing:n=C}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:n,css:r=>`opacity: ${r*a}`}}function V(t,{delay:e=0,duration:o=400,easing:n=S,x:a=0,y:r=0,opacity:s=0}={}){const c=getComputedStyle(t),i=+c.opacity,p=c.transform==="none"?"":c.transform,u=i*(1-s),[g,m]=w(a),[y,h]=w(r);return{delay:e,duration:o,easing:n,css:(l,$)=>`
			transform: ${p} translate(${(1-l)*g}${m}, ${(1-l)*y}${h});
			opacity: ${i-u*$}`}}function W(t,{delay:e=0,duration:o=400,easing:n=S,axis:a="y"}={}){const r=getComputedStyle(t),s=+r.opacity,c=a==="y"?"height":"width",i=parseFloat(r[c]),p=a==="y"?["top","bottom"]:["left","right"],u=p.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),g=parseFloat(r[`padding${u[0]}`]),m=parseFloat(r[`padding${u[1]}`]),y=parseFloat(r[`margin${u[0]}`]),h=parseFloat(r[`margin${u[1]}`]),l=parseFloat(r[`border${u[0]}Width`]),$=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:o,easing:n,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*s};${c}: ${d*i}px;padding-${p[0]}: ${d*g}px;padding-${p[1]}: ${d*m}px;margin-${p[0]}: ${d*y}px;margin-${p[1]}: ${d*h}px;border-${p[0]}-width: ${d*l}px;border-${p[1]}-width: ${d*$}px;`}}export{j as a,T as b,S as c,V as f,N as g,W as s,A as u};
